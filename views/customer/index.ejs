<!DOCTYPE html>
<html>
  <head>
    <title><%= title %></title>
    <%- include("../common/header")%>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/timepicker/1.3.5/jquery.timepicker.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/timepicker/1.3.5/jquery.timepicker.min.js"></script>
    <script type="text/javascript">
      var datefield = document.createElement("input")
      datefield.setAttribute("type", "date")
      if (datefield.type !=
        "date") { //if browser doesn't support input type="date", load files for jQuery UI Date Picker
        document.write(
          '<link href="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8/themes/base/jquery-ui.css" rel="stylesheet" type="text/css" />\n'
          )
        document.write('<script src="http://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"><\/script>\n')
        document.write('<script src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"><\/script>\n')
      }
    </script>

    <script>
      if (datefield.type != "date") { //if browser doesn't support input type="date", initialize date picker widget:
        jQuery(function ($) { //on document.ready
          $('#days').datepicker();
        })
      }

      $(document).ready(function () {
        $(".timepicker").timepicker({
        timeFormat: "h:mm p",
        interval: 60,
        minTime: "10",
        maxTime: "6:00pm",
        defaultTime: "0",
        startTime: "10:00",
        dynamic: false,
        dropdown: true,
        scrollbar: true,
        });

        $('#serviceSelector').change(function(){
            $('.showcase-form').hide();
            var service = $('#serviceSelector').val();
            $('#'+service).show();
        })

      });

    </script>
  </head>
  <body>
    <%- include("../common/navbar-customer") %>
    <section class="sectionIndicator showcase" id="home">
      <div class="container grid">
        <div class="showcase-text">
          <h1>Welcome <%= username %></h1>
          <p>What would you like to reserve...</p>
          <div class="custom-select" style="width:200px;">
            <select id="serviceSelector" autocomplete="off">
              <option value="ridingLesson">Riding Lesson</option>
              <option value="horseTraining">Horse Training</option>
              <option value="horseLodging">Horse Lodging</option>
            </select>
          </div>
        </div>

        <!--Riding Lessons-->
        <div class="showcase-form card" id="ridingLesson">
          <h2>Get Riding Lessons</h2>
          <form action="/api/booking/riding" method="POST">
            <div class="form-control">
              <input type="text" name="firstname" placeholder="First Name" required>
            </div>
            <div class="form-control">
              <input type="text" name="lastname" placeholder="Last Name" required>
            </div>
            <div class="form-control">
              <input type="phone" name="phone" placeholder="Phone" required>
            </div>
            <div class="form-control">
              <input type="text" name="numPeople" placeholder="Number of Riders" required>
            </div>
           <div class="form-control">
             <input type="date" name="days" id="days" class="days" placeholder="Pick a Date" required>
           </div>
           <div class="parent">
             <div class="form-control-time-left">
               <input type="text" class="timepicker" id="startTime" name="StartTime" placeholder="Pick a Start Time"
                 required>
             </div>
             <div class="form-control-time-right">
               <input type="text" class="timepicker" id="endTime" name="EndTime" placeholder="Pick a End Time" required>
             </div>
          </div>
            <input type="submit" value="Let's Ride" class="btn btn-primary">
          </form>
        </div>

        <!--Horse Training-->
        <div class="showcase-form card" id="horseTraining" style="display:none;">
          <h2>Horse Training</h2>
          <form action="/api/booking/training" method="POST">
            <div class="form-control">
              <input type="text" name="firstname" placeholder="First Name" required>
            </div>
            <div class="form-control">
              <input type="text" name="lastname" placeholder="Last Name" required>
            </div>
            <div class="form-control">
              <input type="phone" name="phone" placeholder="Phone" required>
            </div>
            <div class="form-control">
              <input type="text" name="horsename" placeholder="Horse Name" required>
              </input>
            </div>
            <div class="form-control">
              <input type="date" name="days" id="days" class="days" placeholder="Pick a Date" required>
            </div>
            <div class="parent">
              <div class="form-control-time-left">
                <input type="text" class="timepicker" id="startTime" name="StartTime" placeholder="Pick a Start Time"
                  required>
              </div>
              <div class="form-control-time-right">
                <input type="text" class="timepicker" id="endTime" name="EndTime" placeholder="Pick a End Time"
                  required>
              </div>
            </div>
            <input type="submit" value="Let's Ride" class="btn btn-primary">
          </form>
        </div>

        <!--Horse Lodging-->
        <div class="showcase-form card" id="horseLodging" style="display:none;">
          <h2>Horse Lodging</h2>
          <form action="/api/booking/loding" method="POST">
            <div class="form-control">
              <input type="text" name="firstname" placeholder="First Name" required>
            </div>
            <div class="form-control">
              <input type="text" name="lastname" placeholder="Last Name" required>
            </div>
            <div class="form-control">
              <input type="phone" name="phone" placeholder="Phone" required>
            </div>
            <div class="form-control">
              <h6>Horse Type: </h6>
              <select name="horsetype">
                <option value="stable">Stable</option>
                <option value="pasture">Pasture</option>
              </select>
            </div>
            <div class="form-control">
              <input type="text" name="horseName" placeholder="Horse Name" required>
            </div>
            <div class="form-control">
                <p>Starting Month Date</p>
                <input type="date" name="days" id="days" class="days" placeholder="Pick a Date" required>
            </div>
            <div class="form-control">
              <p>Number of Months: </p>
              <select name="months">
                <option value="1">1</option>
                <option value="2">2</option>
                <option value="3">3</option>
              </select>
            </div>
            <input type="submit" value="Let's Ride" class="btn btn-primary">
          </form>
        </div>

      </div>
    </section>

    <!--About Page-->
    <section class="sectionIndicator" id="about">
      <div class="w3-container" style="padding:128px 16px">
        <h3 class="w3-center">ABOUT THE COMPANY</h3>
        <p class="w3-center w3-large">Key features of our company</p>
          <div class="w3-row-padding w3-center" style="margin-top:64px">
            <div class="w3-quarter">
              <i class="fa fa-desktop w3-margin-bottom w3-jumbo w3-center"></i>
              <p class="w3-large">Responsive</p>
              <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et
                dolore.</p>
            </div>
            <div class="w3-quarter">
              <i class="fa fa-hat-cowboy fa-3x w3-margin-bottom w3-jumbo"></i>
              <p class="w3-large">Passion</p>
              <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et
                dolore.</p>
            </div>
            <div class="w3-quarter">
              <i class="fa fa-horse-head w3-margin-bottom w3-jumbo"></i>
              <p class="w3-large">Horses</p>
              <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et
                dolore.</p>
            </div>
            <div class="w3-quarter">
              <i class="fa fa-hand-holding-medical w3-margin-bottom w3-jumbo"></i>
              <p class="w3-large">Care</p>
              <p>All horses groomed weekly and exercise in fields daily</p>
            </div>
          </div>
      </div>
    </section>

    <!--Services Page-->  
    <section class="sectionIndicator" id="services">
      <div class="w3-container w3-center w3-dark-grey" style="padding:128px 16px" id="pricing">
        <h3>SERVICES OFFERED</h3>
        <p class="w3-large">Reserve a place for your horse or schedule horse riding lessons.</p>
        <div class="w3-row-padding" style="margin-top:64px">
          <div class="w3-quarter w3-section">
            <ul class="w3-ul w3-white w3-hover-shadow">
              <li class="w3-black w3-xlarge w3-padding-32">Pasture Horses</li>
              <li class="w3-padding-16"><b>Grain and Hay</b> Included</li>
              <li class="w3-padding-16"><b>Unlimited</b> Visits</li>
              <li class="w3-padding-16"><b>Daily</b> Grooming</li>
              <li class="w3-padding-16"><b>10 Acres</b> of land</li>
              <li class="w3-padding-16">
                <h2 class="w3-wide">$ 250</h2>
                <span class="w3-opacity">per month</span>
              </li>
            </ul>
          </div>
          <div class="w3-quarter w3-section">
            <ul class="w3-ul w3-white w3-hover-shadow">
              <li class="w3-red w3-xlarge w3-padding-32">Riding Lesson</li>
              <li class="w3-padding-16"><b>Experienced</b> Trainer</li>
              <li class="w3-padding-16"><b>Well Trained</b> Horses</li>
              <li class="w3-padding-16"><b>Personalized</b> Sessions</li>
              <li class="w3-padding-16"><b>1:1</b> Guidance</li>
              <li class="w3-padding-16">
                <h2 class="w3-wide">$ 70</h2>
                <span class="w3-opacity">per hour</span>
              </li>
            </ul>
          </div>
          <div class="w3-quarter w3-section">
            <ul class="w3-ul w3-white w3-hover-shadow">
              <li class="w3-red w3-xlarge w3-padding-32">Horse Training</li>
              <li class="w3-padding-16"><b>Experienced</b> Trainer</li>
              <li class="w3-padding-16"><b>Weekly</b> Sessions</li>
              <li class="w3-padding-16"><b>Effective</b> Training</li>
              <li class="w3-padding-16"><b>Ensured</b> Care</li>
              <li class="w3-padding-16">
                <h2 class="w3-wide">$ 100</h2>
                <span class="w3-opacity">per hour</span>
              </li>
            </ul>
          </div>
          <div class="w3-quarter w3-section">
            <ul class="w3-ul w3-white w3-hover-shadow">
              <li class="w3-black w3-xlarge w3-padding-32">Stabled Horses</li>
              <li class="w3-padding-16"><b>Grain and Hay</b> Included</li>
              <li class="w3-padding-16"><b>Unlimited</b> Visits</li>
              <li class="w3-padding-16"><b>Daily</b> Grooming</li>
              <li class="w3-padding-16"><b>Clean</b> Stalls</li>
              <li class="w3-padding-16">
                <h2 class="w3-wide">$ 300</h2>
                <span class="w3-opacity">per month</span>
              </li>
            </ul>
          </div>
        </div>
        <p class="w3-large">All services have endless support for those who request it.</p>
      </div>
    </section>

    <!--Contact Page-->
    <section class="sectionIndicator showcase-contact" id="contact">
      <div class="bg-image"></div>
       <div class="showcase-form card overlay" style="position: relative;"
         id="contact">
         <h3 class="w3-center">CONTACT</h3>
         <p class="w3-center w3-large">Lets get in touch. Send us a message:</p>
         <div style="margin-top:48px">
           <p><i class="fa fa-map-marker fa-fw w3-xxlarge w3-margin-right"></i> Location: 2315 MC 6064 Flippin, AR</p>
           <p><i class="fa fa-phone fa-fw w3-xxlarge w3-margin-right"></i> Phone: +1 870-404-2232</p>
           <p><i class="fa fa-envelope fa-fw w3-xxlarge w3-margin-right"> </i> Email: hoofheartedstables@gmail.com</p>
           <br>
           <form action="/action_page.php" target="_blank">
             <p><input class="w3-input w3-border" type="text" placeholder="Name" required name="Name"></p>
             <p><input class="w3-input w3-border" type="text" placeholder="Email" required name="Email"></p>
             <p><input class="w3-input w3-border" type="text" placeholder="Subject" required name="Subject"></p>
             <p><input class="w3-input w3-border" type="text" placeholder="Message" required name="Message"></p>
             <p>
               <button class="w3-button w3-black" type="submit">
                 <i class="fa fa-paper-plane"></i> SEND MESSAGE
               </button>
             </p>
           </form>
         </div>
       </div>
    </section>

    <!-- Script for service select dropdown -->
    <script>
      var x, i, j, l, ll, selElmnt, a, b, c;
      x = document.getElementsByClassName("custom-select");
      l = x.length;
      for (i = 0; i < l; i++) {
        selElmnt = x[i].getElementsByTagName("select")[0];
        ll = selElmnt.length;
        /* Creates new div when another option is added */
        a = document.createElement("DIV");
        a.setAttribute("class", "select-selected");
        a.innerHTML = selElmnt.options[selElmnt.selectedIndex].innerHTML;
        x[i].appendChild(a);
        /* For each element, create a new DIV that will contain the option list: */
        b = document.createElement("DIV");
        b.setAttribute("class", "select-items select-hide");
        for (j = 0; j < ll; j++) {
          /* For each option in the original select element,
          create a new DIV that will act as an option item: */
          c = document.createElement("DIV");
          c.innerHTML = selElmnt.options[j].innerHTML;
          c.addEventListener("click", function(e) {
              /* When an item is clicked, update the original select box,
              and the selected item: */
              var y, i, k, s, h, sl, yl;
              s = this.parentNode.parentNode.getElementsByTagName("select")[0];
              sl = s.length;
              h = this.parentNode.previousSibling;
              for (i = 0; i < sl; i++) {
                if (s.options[i].innerHTML == this.innerHTML) {
                  s.selectedIndex = i;
                  h.innerHTML = this.innerHTML;
                  y = this.parentNode.getElementsByClassName("same-as-selected");
                  yl = y.length;
                  for (k = 0; k < yl; k++) {
                    y[k].removeAttribute("class");
                  }
                  this.setAttribute("class", "same-as-selected");
                  break;
                }
              }
              h.click();
          });
          b.appendChild(c);
        }
        x[i].appendChild(b);
        a.addEventListener("click", function(e) {
          /* When the select box is clicked, close any other select boxes,
          and open/close the current select box: */
          e.stopPropagation();
          closeAllSelect(this);
          this.nextSibling.classList.toggle("select-hide");
          this.classList.toggle("select-arrow-active");
        });
      }

      function closeAllSelect(elmnt) {
        /* A function that will close all select boxes in the document,
        except the current select box: */
        var x, y, i, xl, yl, arrNo = [];
        x = document.getElementsByClassName("select-items");
        y = document.getElementsByClassName("select-selected");
        xl = x.length;
        yl = y.length;
        for (i = 0; i < yl; i++) {
          if (elmnt == y[i]) {
            arrNo.push(i)
          } else {
            y[i].classList.remove("select-arrow-active");
          }
        }
        for (i = 0; i < xl; i++) {
          if (arrNo.indexOf(i)) {
            x[i].classList.add("select-hide");
          }
        }
      }

      /* If the user clicks anywhere outside the select box,
      then close all select boxes: */
      document.addEventListener("click", closeAllSelect);
    </script>
  </body>
</html>